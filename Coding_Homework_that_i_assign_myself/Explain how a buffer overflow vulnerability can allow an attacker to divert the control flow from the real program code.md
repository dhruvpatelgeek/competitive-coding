1. Explain how a buffer overflow vulnerability can allow an attacker to divert the control flow from the real program code to the instructions placed by the attacker in the buffer (i.e., code injection attack).

   in buffer overflow you have a buffer with a fixed Len, which is stored in a the memory in stack when declared like 

   dp[100];

   in heap when called using malloc.

   the Atwater can the write more data than ther is in the allocated space potentially overiting the address bounds and modifying the instructions 

   there are two types of attack

   1 is called stack smashing attack which is used to "smash" or destry the contentes of the stack and overitw it with some vlaues.

   Attatcker overiets the stack and inserts some padding area in form of NOP line with some malicions code, and finally overites the return address to point to some add in the NOP region where the %eip will itr->itr+1 and execute the desired code.

   The other form is call return to lib c when they the stack or help is not executable 

   the attacker will simply hijack the ret addr and modifty to execute some shell commands functions as /bin/zsh to him himself the root access to the machine

2. dangling pointer and format string vulnerabilities

when you alloc some memory to the a pointer and then free it, after which you  re-access the pointer and then do some modifications to it, this type of attack is called the dangeling pointer

format string vulnerabilities

is when you use the printf function to print something out based on user input, 

read vunl

printf is a function that accepts a varibale number of arguments and used those arguments to match it to the exesisitng variables int he buffer for example if i printf("%d%s") it will just print whatever the next d and f is in the stack, 

write vunl

if the printf("...%n") then it will write to the buffer poentitially modifying the values

what are the countermeasures for 

1 smashing the stack

​	

2 

​	-add canaries

​	-make stack non executable

return to libc>

​	<add address space layout randomization AKA ASLA for 64 bits

​	information leaque and string fromate vulnerabilities>

avoid using libc entirely

ROP>

ASLA for 64 bit machines

Bling ROP or BROP



3 dangling pointer

4 format string vlun

5 ROP

